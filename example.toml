title = "Demo Presentation"
aspect_ratio = "4:3"

[[slides]]
layout = "cover_title_right"
background = "red"
title = "A rede"
subtitle = "e as coisas dando errado!"

[[slides]]
layout = "cover_title_left"
background = "yellow"
title = "Clientes"
subtitle = "Existem tantos..."

[[slides]]
layout = "summary"
background = "red"
footer = "Python 3.14"

[[slides.items]]
title = "Gerais"
description = "Melhorias, debugers, cores, ..."

[[slides.items]]
title = "Plataformas"
description = "Windows, Linux, Mac, ..."

[[slides.items]]
title = "Bibliotecas"
description = "pathlib, uuid, zstandard, annotationlib"

[[slides.items]]
title = "Sintaxe"
description = "Alterações e coisas novas"

[[slides.items]]
title = "Interpretador"
description = "Coisas novas do cpython"

[[slides.items]]
title = "O que não tem caixa"
description = "O que não coube em nenhum grupo xD"

[[slides]]
layout = "summary"
background = "green"
title = "Agenda"

[[slides.items]]
title = "Introdução"
description = "Contexto e objetivos"

[[slides.items]]
title = "Arquitetura"
description = "Design do sistema"

[[slides.items]]
title = "Implementação"
description = "Código e exemplos"

[[slides.items]]
title = "Testes"
description = "Qualidade e cobertura"

[[slides.items]]
title = "Deploy"
description = "Publicação e CI/CD"

[[slides]]
layout = "default"
background = "yellow"
vertical_align = "center"
content = """
Esta aula **não vai ensinar HTTP em si**. Isso já foi abordado em lives anteriores.

O foco será em como lidar com _erros_ e `timeouts` no mundo real.
"""
footer = "Antes de tudo"

[[slides]]
layout = "default"
background = "red"
title = "Timeouts"
vertical_align = "top"
content = """
Vamos pensar em um exemplo extremamente simples:

```python
import httpx

def get_page_content():
    return httpx.get('https://httpbin.org/delay/6').text

get_page_content()
```

O que acontece se a resposta não voltar no tempo que esperamos?

```bash
File "live_http_client/.venv/.../httpx/_transports/default.py",
    line 118, in map_httpcore_exceptions
      raise mapped_exc(message) from exc
httpx.ReadTimeout: timed out
```
"""

[[slides]]
layout = "default"
background = "green"
title = "Listas e Tabelas"
vertical_align = "top"
content = """
## Principais protocolos

- **HTTP/HTTPS** — Comunicação web
- **WebSocket** — Comunicação bidirecional em tempo real
- **gRPC** — Remote Procedure Call de alta performance

### Comparação

| Protocolo  | Latência | Bidirecional | Uso comum           |
|------------|----------|--------------|---------------------|
| HTTP/1.1   | Média    | Não          | APIs REST           |
| HTTP/2     | Baixa    | Não          | APIs modernas       |
| WebSocket  | Baixa    | Sim          | Chat, jogos online  |
| gRPC       | Muito baixa | Sim       | Microserviços       |
"""

[[slides]]
layout = "default"
background = "blue"
title = "Código Python"
vertical_align = "top"
content = """
### Retry com backoff exponencial

```python
import httpx
import time

def fetch_with_retry(url: str, max_retries: int = 3):
    for attempt in range(max_retries):
        try:
            response = httpx.get(url, timeout=5.0)
            response.raise_for_status()
            return response.json()
        except httpx.HTTPError as e:
            wait = 2 ** attempt
            print(f"Tentativa {attempt + 1} falhou: {e}")
            print(f"Aguardando {wait}s antes de tentar novamente...")
            time.sleep(wait)
    raise Exception("Todas as tentativas falharam")
```
"""

[[slides]]
layout = "default"
background = "white"
title = "Comandos Bash"
vertical_align = "top"
content = """
### Diagnóstico de rede

```bash
# Testar conectividade
curl -v https://httpbin.org/get

# Verificar DNS
dig httpbin.org

# Medir tempo de resposta
time curl -o /dev/null -s -w '%{time_total}' https://httpbin.org/get

# Monitorar conexões ativas
ss -tuln | grep :8080
```

> **Dica:** Use `curl -v` para visualizar os headers completos da requisição e resposta.
"""

[[slides]]
layout = "default"
background = "yellow"
title = "Imagens e Mídia"
vertical_align = "center"
content = """
### Arquitetura de microserviços

![Diagrama de arquitetura](https://via.placeholder.com/800x300/2d2d2d/f0f0f0?text=Arquitetura+de+Microsservi%C3%A7os)

1. O **API Gateway** recebe a requisição
2. Roteia para o **serviço correto**
3. Cada serviço tem seu próprio `banco de dados`
4. Comunicação interna via **gRPC**
"""

[[slides]]
layout = "default"
background = "green"
title = "Diagrama Mermaid"
vertical_align = "center"
content = """
### Fluxo de requisição

```mermaid
graph LR
    A[Cliente] -->|HTTP| B(API Gateway)
    B --> C{Roteamento}
    C -->|/users| D[User Service]
    C -->|/orders| E[Order Service]
    C -->|/products| F[Product Service]
    D --> G[(Database)]
    E --> G
    F --> G
```
"""

[[slides]]
layout = "cover_title_left"
background = "indigo"
title = "Indigo"
subtitle = "#6272A4"

[[slides]]
layout = "default"
background = "lavender"
title = "Lavender"
vertical_align = "center"
content = """
Cor de fundo roxa com contraste claro.
"""

[[slides]]
layout = "default"
background = "pink"
title = "Pink"
vertical_align = "center"
content = """
Cor de fundo rosa com contraste claro.
"""
